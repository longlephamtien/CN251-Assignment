# ============================================
# P2P File Sharing System - Environment Configuration
# ============================================
# Copy this file to .env and customize as needed
# Usage: cp .env.example .env
#
# This file works for both:
# - Docker environments (use container hostnames)
# - Local testing (use localhost/127.0.0.1)
# ============================================

# ============================================
# Server Configuration
# ============================================
# For Docker: use container name (p2p-server)
# For Local: use 127.0.0.1 or localhost
SERVER_HOST=0.0.0.0
# SERVER_HOST=p2p-server  # Uncomment for Docker

SERVER_PORT=9000
CLIENT_CLEANUP_INTERVAL=30
CLIENT_INACTIVE_TIMEOUT=1200

# ============================================
# Admin API Configuration
# ============================================
ADMIN_API_HOST=0.0.0.0
ADMIN_API_PORT=5500
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# ============================================
# Client API Configuration
# ============================================
CLIENT_API_HOST=0.0.0.0
CLIENT_API_PORT=5501

# ============================================
# Security Configuration
# ============================================
JWT_SECRET_KEY=test-secret-key-change-in-production

# ============================================
# Network Configuration
# ============================================
# Docker network settings
NETWORK_SUBNET=172.25.0.0/16
DOCKER_NETWORK_DRIVER=bridge

# ============================================
# Test Configuration
# ============================================
# Quick test
QUICK_TEST_CLIENTS=100

# Standard test
STANDARD_TEST_CLIENTS_1=1000
STANDARD_TEST_CLIENTS_2=10000

# Full test
FULL_TEST_CLIENTS_1=1000
FULL_TEST_CLIENTS_2=10000
FULL_TEST_CLIENTS_3=100000

# P2P transfer test
P2P_TEST_CLIENTS=25
TEST_NUM_CLIENTS=50

# Test file configuration
TEST_FILE_SIZE=60
NUM_SMALL_FILES=20
NUM_MEDIUM_FILES=30
NUM_LARGE_FILES=10

# Timeouts
TEST_TIMEOUT=3600

# ============================================
# Directories
# ============================================
LOG_DIR=/app/logs
RESULTS_DIR=/app/tests/results
FILES_DIR=/app/files

# ============================================
# Performance Tuning
# ============================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Logging
LOG_LEVEL=INFO
LOG_DRIVER=json-file
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3

# ============================================
# Health Check Configuration
# ============================================
HEALTHCHECK_INTERVAL=10s
HEALTHCHECK_TIMEOUT=5s
HEALTHCHECK_RETRIES=5
HEALTHCHECK_START_PERIOD=10s

# ============================================
# Resource Limits (Docker Deploy Configuration)
# ============================================
# Uncomment and adjust as needed for Docker deployments

# SERVER RESOURCES
SERVER_CPU_LIMIT=4.0
SERVER_CPU_RESERVATION=0.5
SERVER_MEMORY_LIMIT=16G
SERVER_MEMORY_RESERVATION=512M

# ADMIN API RESOURCES
ADMIN_CPU_LIMIT=2.0
ADMIN_CPU_RESERVATION=0.25
ADMIN_MEMORY_LIMIT=4G
ADMIN_MEMORY_RESERVATION=256M

# CLIENT API RESOURCES
CLIENT_CPU_LIMIT=2.0
CLIENT_CPU_RESERVATION=0.25
CLIENT_MEMORY_LIMIT=4G
CLIENT_MEMORY_RESERVATION=256M

# TEST RUNNER RESOURCES
TEST_CPU_LIMIT=4.0
TEST_CPU_RESERVATION=1.0
TEST_MEMORY_LIMIT=16G
TEST_MEMORY_RESERVATION=1G

# ============================================
# Advanced Resource Configuration
# ============================================
# SWAP
SWAP_LIMIT=-1
OOM_KILL_DISABLE=false

# Process limits
PIDS_LIMIT=500

# ============================================
# Resource Limits Cheatsheet
# ============================================
# CPU Format:
#   - '0.5' = 50% of 1 CPU core
#   - '1.0' = 1 full CPU core
#   - '2.5' = 2.5 CPU cores
#
# Memory Format:
#   - '128M' or '128m' = 128 megabytes
#   - '1G' or '1g' = 1 gigabyte
#   - '512M' = 512 megabytes
#   - '2G' = 2 gigabytes
#
# Note: Limits must be >= Reservations


